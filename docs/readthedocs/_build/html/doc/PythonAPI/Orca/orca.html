<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Orca API &mdash; BigDL  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="orca.automl.auto_estimator" href="automl.html" />
    <link rel="prev" title="Use AutoXGBoost to auto-tune XGBoost parameters" href="../../Orca/QuickStart/orca-autoxgboost-quickstart.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> BigDL
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/QuickStart/orca-tf-quickstart.html">TensorFlow 1.15 Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/QuickStart/orca-keras-quickstart.html">Keras 2.3 Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/QuickStart/orca-tf2keras-quickstart.html">TensorFlow 2 Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/QuickStart/orca-pytorch-quickstart.html">PyTorch Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Ray/QuickStart/ray-quickstart.html">RayOnSpark Quickstart</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/python.html">Python User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/scala.html">Scala User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/colab.html">Colab User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/docker.html">Docker User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/hadoop.html">Hadoop/YARN User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/k8s.html">K8s User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/databricks.html">Databricks User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/develop.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UserGuide/known_issues.html">BigDL Known Issues</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Nano</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/Overview/nano.html">Nano User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/Overview/windows_guide.html">Windows User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/QuickStart/pytorch_train.html">BigDL-Nano PyTorch Training Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/QuickStart/pytorch_inference.html">BigDL-Nano PyTorch Inference Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/QuickStart/tensorflow_train.html">BigDL-Nano TensorFlow Training Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/QuickStart/tensorflow_inference.html">BigDL-Nano TensorFlow Inference Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/QuickStart/hpo.html">AutoML Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/Overview/known_issues.html">Nano Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nano/QuickStart/index.html">Nano Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DLlib</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../DLlib/Overview/dllib.html">DLlib User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DLlib/Overview/keras-api.html">Keras-Like API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DLlib/Overview/nnframes.html">Spark ML Pipeline Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Orca</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/Overview/orca.html">Orca User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/Overview/orca-context.html">Orca Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/Overview/data-parallel-processing.html">Distributed Data Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/Overview/distributed-training-inference.html">Distributed Training and Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/Overview/distributed-tuning.html">Distributed Hyper-Parameter Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Ray/Overview/ray.html">RayOnSpark</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/Overview/known_issues.html">Orca Known Issues</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Chronos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Chronos/Overview/chronos.html">Chronos User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Chronos/Overview/windows_guide.html">Windows User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Chronos/Overview/deep_dive.html">Chronos Deep Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Chronos/QuickStart/index.html">Chronos Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Chronos/Overview/chronos_known_issue.html">Chronos Known Issue</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PPML</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/Overview/ppml.html">Privacy Preserving Machine Learning (PPML) User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/Overview/trusted_big_data_analytics_and_ml.html">Trusted Big Data Analytics and ML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/Overview/trusted_fl.html">Trusted FL (Federated Learning)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/QuickStart/secure_your_services.html">Secure Your Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/QuickStart/build_kernel_with_sgx.html">Building Linux Kernel from Source with SGX Enabled</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/QuickStart/deploy_intel_sgx_device_plugin_for_kubernetes.html">Deploy the Intel SGX Device Plugin for Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/QuickStart/trusted-serving-on-k8s-guide.html">Trusted Cluster Serving with Graphene on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/QuickStart/tpc-h_with_sparksql_on_k8s.html">TPC-H with Trusted SparkSQL on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/QuickStart/tpc-ds_with_sparksql_on_k8s.html">TPC-DS with Trusted SparkSQL on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PPML/Overview/azure_ppml.html">Privacy Preserving Machine Learning (PPML) on Azure User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Serving</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/Overview/serving.html">Cluster Serving User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/QuickStart/serving-quickstart.html">Cluster Serving Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/ProgrammingGuide/serving-installation.html">Install Cluster Serving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/ProgrammingGuide/serving-start.html">Start Cluster Serving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/ProgrammingGuide/serving-inference.html">Inference by Cluster Serving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/Example/example.html">Cluster Serving Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/FAQ/faq.html">Cluster Serving FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Serving/FAQ/contribute-guide.html">Contribute to Cluster Serving</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Common Use Case</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/QuickStart/orca-pytorch-distributed-quickstart.html">Use <code class="docutils literal notranslate"><span class="pre">torch.distributed</span></code> in Orca</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UseCase/spark-dataframe.html">Use Spark Dataframe for Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UseCase/xshards-pandas.html">Use Distributed Pandas for Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/QuickStart/orca-autoestimator-pytorch-quickstart.html">Enable AutoML for PyTorch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Orca/QuickStart/orca-autoxgboost-quickstart.html">Use AutoXGBoost to auto-tune XGBoost parameters</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Orca API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-bigdl.orca.learn.bigdl.estimator">orca.learn.bigdl.estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bigdl.orca.learn.tf.estimator">orca.learn.tf.estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bigdl.orca.learn.tf2.estimator">orca.learn.tf2.estimator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#orca-learn-tf2-tf2-ray-estimator">orca.learn.tf2.tf2_ray_estimator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#orca-learn-tf2-tf2-spark-estimator">orca.learn.tf2.tf2_spark_estimator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bigdl.orca.learn.pytorch.estimator">orca.learn.pytorch.estimator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#orca-learn-pytorch-pytorch-ray-estimator">orca.learn.pytorch.pytorch_ray_estimator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#orca-learn-pytorch-pytorch-spark-estimator">orca.learn.pytorch.pytorch_spark_estimator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bigdl.orca.learn.openvino.estimator">orca.learn.openvino.estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automl">AutoML</a><ul>
<li class="toctree-l3"><a class="reference internal" href="automl.html">orca.automl.auto_estimator</a></li>
<li class="toctree-l3"><a class="reference internal" href="automl.html#orca-automl-hp">orca.automl.hp</a></li>
<li class="toctree-l3"><a class="reference internal" href="automl.html#orca-automl-metrics">orca.automl.metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="automl.html#orca-automl-auto-xgb">orca.automl.auto_xgb</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Friesian/feature.html">Friesian Feature API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chronos/index.html">Chronos API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nano/index.html">Nano API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Real-World Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Application/presentations.html">Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Application/blogs.html">Blogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Application/powered-by.html">Powered By</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">BigDL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Orca API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/doc/PythonAPI/Orca/orca.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="orca-api">
<h1>Orca API<a class="headerlink" href="#orca-api" title="Permalink to this headline">¶</a></h1>
<section id="module-bigdl.orca.learn.bigdl.estimator">
<span id="orca-learn-bigdl-estimator"></span><h2>orca.learn.bigdl.estimator<a class="headerlink" href="#module-bigdl.orca.learn.bigdl.estimator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.Estimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.bigdl.estimator.</span></span><span class="sig-name descname"><span class="pre">Estimator</span></span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#Estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.Estimator.from_bigdl">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bigdl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_preprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_preprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#Estimator.from_bigdl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.Estimator.from_bigdl" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an Estimator with BigDL model, loss function and Preprocessing for feature and
label data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – BigDL Model to be trained.</p></li>
<li><p><strong>loss</strong> – BigDL criterion.</p></li>
<li><p><strong>optimizer</strong> – BigDL optimizer.</p></li>
<li><p><strong>metrics</strong> – A evaluation metric or a list of evaluation metrics</p></li>
<li><p><strong>feature_preprocessing</strong> – <p>Used when data in <cite>fit</cite> and <cite>predict</cite> is a Spark DataFrame.
The param converts the data in feature column to a Tensor or to a Sample directly.
It expects a List of Int as the size of the converted Tensor, or a Preprocessing[F,
Tensor[T]]</p>
<p>If a List of Int is set as feature_preprocessing, it can only handle the case that
feature column contains the following data types:
Float, Double, Int, Array[Float], Array[Double], Array[Int] and MLlib Vector. The
feature data are converted to Tensors with the specified sizes before
sending to the model. Internally, a SeqToTensor is generated according to the
size, and used as the feature_preprocessing.</p>
<p>Alternatively, user can set feature_preprocessing as Preprocessing[F, Tensor[T]]
that transforms the feature data to a Tensor[T]. Some pre-defined Preprocessing are
provided in package bigdl.dllib.feature. Multiple Preprocessing can be combined as a
ChainedPreprocessing.</p>
<p>The feature_preprocessing will also be copied to the generated NNModel and applied
to feature column during transform.</p>
</p></li>
<li><p><strong>label_preprocessing</strong> – Used when data in <cite>fit</cite> and <cite>predict</cite> is a Spark DataFrame.
similar to feature_preprocessing, but applies to Label data.</p></li>
<li><p><strong>model_dir</strong> – The path to save model. During the training, if checkpoint_trigger is
defined and triggered, the model will be saved to model_dir.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.bigdl.estimator.</span></span><span class="sig-name descname"><span class="pre">BigDLEstimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_preprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_preprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.spark_estimator.Estimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'features'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caching_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpoint_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this BigDL model with train data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – train data. It can be XShards or Spark DataFrame.
If data is XShards, each partition is a dictionary of  {‘x’: feature,
‘y’: label}, where feature(label) is a numpy array or a list of numpy arrays.</p></li>
<li><p><strong>epochs</strong> – Number of epochs to train the model.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for training. Default: 32.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data is a Spark
DataFrame. Default: “features”.</p></li>
<li><p><strong>label_cols</strong> – Label column name(s) of data. Only used when data is a Spark DataFrame.
Default: “label”.</p></li>
<li><p><strong>caching_sample</strong> – whether to cache the Samples after preprocessing. Default: True</p></li>
<li><p><strong>validation_data</strong> – Validation data. XShards and Spark DataFrame are supported.
If data is XShards, each partition is a dictionary of  {‘x’: feature,
‘y’: label}, where feature(label) is a numpy array or a list of numpy arrays.</p></li>
<li><p><strong>validation_trigger</strong> – Orca Trigger to trigger validation computation.</p></li>
<li><p><strong>checkpoint_trigger</strong> – Orca Trigger to set a checkpoint.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'features'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_preprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – predict input data. It can be XShards or Spark DataFrame.
If data is XShards, each partition is a dictionary of  {‘x’: feature}, where feature
is a numpy array or a list of numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for inference. Default: 4.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data is a Spark
DataFrame. Default: “features”.</p></li>
<li><p><strong>sample_preprocessing</strong> – Used when data is a Spark DataFrame. If the user want change
the default feature_preprocessing specified in Estimator.from_bigdl, the user can
pass the new sample_preprocessing methods.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted result.
If input data is Spark DataFrame, the predict result is a DataFrame which includes
original columns plus ‘prediction’ column. The ‘prediction’ column can be
FloatType, VectorUDT or Array of VectorUDT depending on model outputs shape.
If input data is an XShards, the predict result is a XShards, each partition
of the XShards is a dictionary of {‘prediction’: result}, where result is a numpy
array or a list of numpy arrays.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'features'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'label'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – validation data. It can be XShardsor or Spark DataFrame, each partition is
a dictionary of {‘x’: feature, ‘y’: label}, where feature(label) is a numpy array
or a list of numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for validation. Default: 32.</p></li>
<li><p><strong>feature_cols</strong> – (Not supported yet) Feature column name(s) of data. Only used when
data is a Spark  DataFrame. Default: None.</p></li>
<li><p><strong>label_cols</strong> – (Not supported yet) Label column name(s) of data. Only used when data
is a Spark DataFrame. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the trained BigDL model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The trained BigDL model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the BigDL model to model_path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – path to save the trained model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_preprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_preprocessing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_checkpoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing BigDL model or checkpoint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>checkpoint</strong> – Path to the existing model or checkpoint.</p></li>
<li><p><strong>optimizer</strong> – BigDL optimizer.</p></li>
<li><p><strong>loss</strong> – BigDL criterion.</p></li>
<li><p><strong>feature_preprocessing</strong> – <p>Used when data in <cite>fit</cite> and <cite>predict</cite> is a Spark DataFrame.
The param converts the data in feature column to a Tensor or to a Sample directly.
It expects a List of Int as the size of the converted Tensor, or a Preprocessing[F,
Tensor[T]]</p>
<p>If a List of Int is set as feature_preprocessing, it can only handle the case that
feature column contains the following data types:
Float, Double, Int, Array[Float], Array[Double], Array[Int] and MLlib Vector. The
feature data are converted to Tensors with the specified sizes before
sending to the model. Internally, a SeqToTensor is generated according to the
size, and used as the feature_preprocessing.</p>
<p>Alternatively, user can set feature_preprocessing as Preprocessing[F, Tensor[T]]
that transforms the feature data to a Tensor[T]. Some pre-defined Preprocessing are
provided in package bigdl.dllib.feature. Multiple Preprocessing can be combined as a
ChainedPreprocessing.</p>
<p>The feature_preprocessing will also be copied to the generated NNModel and applied
to feature column during transform.</p>
</p></li>
<li><p><strong>label_preprocessing</strong> – Used when data in <cite>fit</cite> and <cite>predict</cite> is a Spark DataFrame.
similar to feature_preprocessing, but applies to Label data.</p></li>
<li><p><strong>model_dir</strong> – The path to save model. During the training, if checkpoint_trigger is
defined and triggered, the model will be saved to model_dir.</p></li>
<li><p><strong>is_checkpoint</strong> – Whether the path is a checkpoint or a saved BigDL model.
Default: False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The loaded estimator object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.load_orca_checkpoint">
<span class="sig-name descname"><span class="pre">load_orca_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.load_orca_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.load_orca_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing checkpoint. To load a specific checkpoint, please provide both <cite>version</cite>
and <cite>perfix</cite>. If <cite>version</cite> is None, then the latest checkpoint under the specified
directory will be loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Path to the existing checkpoint (or directory containing Orca checkpoint
files).</p></li>
<li><p><strong>version</strong> – checkpoint version, which is the suffix of model.* file, i.e., for
modle.4 file, the version is 4. If it is None, then load the latest checkpoint.</p></li>
<li><p><strong>prefix</strong> – optimMethod prefix, for example ‘optimMethod-Sequentialf53bddcc’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.clear_gradient_clipping">
<span class="sig-name descname"><span class="pre">clear_gradient_clipping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.clear_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.clear_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear gradient clipping parameters. In this case, gradient clipping will not be applied.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.set_constant_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_constant_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.set_constant_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set constant gradient clipping during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> – The minimum value to clip by.</p></li>
<li><p><strong>max</strong> – The maximum value to clip by.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.set_l2_norm_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_l2_norm_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.set_l2_norm_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.set_l2_norm_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip gradient to a maximum L2-Norm during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clip_norm</strong> – Gradient L2-Norm threshold.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.get_train_summary">
<span class="sig-name descname"><span class="pre">get_train_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.get_train_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.get_train_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model train summary.</p>
<p>This method will return a list of summary data of
[iteration_number, scalar_value, timestamp].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – The string variable represents the scalar wanted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.bigdl.estimator.BigDLEstimator.get_validation_summary">
<span class="sig-name descname"><span class="pre">get_validation_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/bigdl/estimator.html#BigDLEstimator.get_validation_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.bigdl.estimator.BigDLEstimator.get_validation_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model validation summary.</p>
<p>This method will return a list of summary data of
[iteration_number, scalar_value, timestamp].
Note that the metric and tag may not be consistent.
Please look up following form to pass tag parameter.
Left side is your metric during compile.
Right side is the tag you should pass.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Accuracy&#39;</span>                  <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;BinaryAccuracy&#39;</span>            <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;CategoricalAccuracy&#39;</span>       <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;SparseCategoricalAccuracy&#39;</span> <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;AUC&#39;</span>                       <span class="o">|</span>   <span class="s1">&#39;AucScore&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;HitRatio&#39;</span>                  <span class="o">|</span>   <span class="s1">&#39;HitRate@k&#39;</span> <span class="p">(</span><span class="n">k</span> <span class="ow">is</span> <span class="n">Top</span><span class="o">-</span><span class="n">k</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Loss&#39;</span>                      <span class="o">|</span>   <span class="s1">&#39;Loss&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MAE&#39;</span>                       <span class="o">|</span>   <span class="s1">&#39;MAE&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;NDCG&#39;</span>                      <span class="o">|</span>   <span class="s1">&#39;NDCG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;TFValidationMethod&#39;</span>        <span class="o">|</span>   <span class="s1">&#39;${name + &quot; &quot; + valMethod.toString()}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Top5Accuracy&#39;</span>              <span class="o">|</span>   <span class="s1">&#39;Top5Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;TreeNNAccuracy&#39;</span>            <span class="o">|</span>   <span class="s1">&#39;TreeNNAccuracy()&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MeanAveragePrecision&#39;</span>      <span class="o">|</span>   <span class="s1">&#39;MAP@k&#39;</span> <span class="p">(</span><span class="n">k</span> <span class="ow">is</span> <span class="n">Top</span><span class="o">-</span><span class="n">k</span><span class="p">)</span> <span class="p">(</span><span class="n">BigDL</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MeanAveragePrecision&#39;</span>      <span class="o">|</span>   <span class="s1">&#39;PascalMeanAveragePrecision&#39;</span> <span class="p">(</span><span class="n">Zoo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;StatelessMetric&#39;</span>           <span class="o">|</span>   <span class="s1">&#39;$</span><span class="si">{name}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – The string variable represents the scalar wanted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bigdl.orca.learn.tf.estimator">
<span id="orca-learn-tf-estimator"></span><h2>orca.learn.tf.estimator<a class="headerlink" href="#module-bigdl.orca.learn.tf.estimator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf.estimator.</span></span><span class="sig-name descname"><span class="pre">Estimator</span></span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.spark_estimator.Estimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpoint_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model with train data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – train data. It can be XShards, Spark DataFrame, tf.data.Dataset.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.</p></li>
<li><p><strong>epochs</strong> – number of epochs to train.</p></li>
<li><p><strong>batch_size</strong> – total batch size for each iteration. Default: 32.</p></li>
<li><p><strong>feature_cols</strong> – feature column names if train data is Spark DataFrame or XShards
of Pandas DataFrame.</p></li>
<li><p><strong>label_cols</strong> – label column names if train data is Spark DataFrame or XShards
of Pandas DataFrame.</p></li>
<li><p><strong>validation_data</strong> – validation data. Validation data type should be the same
as train data.</p></li>
<li><p><strong>session_config</strong> – tensorflow session configuration for training.
Should be object of tf.ConfigProto</p></li>
<li><p><strong>checkpoint_trigger</strong> – when to trigger checkpoint during training.
Should be a bigdl.orca.learn.trigger, like EveryEpoch(), SeveralIteration(
num_iterations),etc.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – data to be predicted. It can be XShards, Spark DataFrame.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature}, where feature is a numpy array or a tuple of numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – batch size per thread</p></li>
<li><p><strong>feature_cols</strong> – list of feature column names if input data is Spark DataFrame or
XShards of Pandas DataFrame.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted result.
If input data is XShards or tf.data.Dataset, the predict result is a XShards, each
partition of the XShards is a dictionary of {‘prediction’: result}, where the
result is a numpy array or a list of numpy arrays.
If input data is Spark DataFrame, the predict result is a DataFrame which includes
original columns plus ‘prediction’ column. The ‘prediction’ column can be
FloatType, VectorUDT or Array of VectorUDT depending on model outputs shape.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – evaluation data. It can be XShards, Spark DataFrame, tf.data.Dataset.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.
If data is tf.data.Dataset, each element is a tuple of input tensors.</p></li>
<li><p><strong>batch_size</strong> – batch size per thread.</p></li>
<li><p><strong>feature_cols</strong> – feature_cols: feature column names if train data is Spark DataFrame or
XShards of Pandas DataFrame.</p></li>
<li><p><strong>label_cols</strong> – label column names if train data is Spark DataFrame or XShards
of Pandas DataFrame.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>evaluation result as a dictionary of {‘metric name’: metric value}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the trained Tensorflow model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Trained model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save model to model_path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – path to save the trained model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – Path to the existing model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.clear_gradient_clipping">
<span class="sig-name descname"><span class="pre">clear_gradient_clipping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.clear_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.clear_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear gradient clipping parameters. In this case, gradient clipping will not be applied.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.set_constant_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_constant_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.set_constant_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set constant gradient clipping during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> – The minimum value to clip by.</p></li>
<li><p><strong>max</strong> – The maximum value to clip by.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.set_l2_norm_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_l2_norm_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.set_l2_norm_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.set_l2_norm_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip gradient to a maximum L2-Norm during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clip_norm</strong> – Gradient L2-Norm threshold.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.get_train_summary">
<span class="sig-name descname"><span class="pre">get_train_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.get_train_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.get_train_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model train summary.</p>
<p>This method will return a list of summary data of
[iteration_number, scalar_value, timestamp].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – The string variable represents the scalar wanted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.get_validation_summary">
<span class="sig-name descname"><span class="pre">get_validation_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.get_validation_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.get_validation_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model validation summary.</p>
<p>This method will return a list of summary data of
[iteration_number, scalar_value, timestamp].
Note that the metric and tag may not be consistent.
Please look up following form to pass tag parameter.
Left side is your metric during compile.
Right side is the tag you should pass.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Accuracy&#39;</span>                  <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;BinaryAccuracy&#39;</span>            <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;CategoricalAccuracy&#39;</span>       <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;SparseCategoricalAccuracy&#39;</span> <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;AUC&#39;</span>                       <span class="o">|</span>   <span class="s1">&#39;AucScore&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;HitRatio&#39;</span>                  <span class="o">|</span>   <span class="s1">&#39;HitRate@k&#39;</span> <span class="p">(</span><span class="n">k</span> <span class="ow">is</span> <span class="n">Top</span><span class="o">-</span><span class="n">k</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Loss&#39;</span>                      <span class="o">|</span>   <span class="s1">&#39;Loss&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MAE&#39;</span>                       <span class="o">|</span>   <span class="s1">&#39;MAE&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;NDCG&#39;</span>                      <span class="o">|</span>   <span class="s1">&#39;NDCG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;TFValidationMethod&#39;</span>        <span class="o">|</span>   <span class="s1">&#39;${name + &quot; &quot; + valMethod.toString()}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Top5Accuracy&#39;</span>              <span class="o">|</span>   <span class="s1">&#39;Top5Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;TreeNNAccuracy&#39;</span>            <span class="o">|</span>   <span class="s1">&#39;TreeNNAccuracy()&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MeanAveragePrecision&#39;</span>      <span class="o">|</span>   <span class="s1">&#39;MAP@k&#39;</span> <span class="p">(</span><span class="n">k</span> <span class="ow">is</span> <span class="n">Top</span><span class="o">-</span><span class="n">k</span><span class="p">)</span> <span class="p">(</span><span class="n">BigDL</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MeanAveragePrecision&#39;</span>      <span class="o">|</span>   <span class="s1">&#39;PascalMeanAveragePrecision&#39;</span> <span class="p">(</span><span class="n">Zoo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;StatelessMetric&#39;</span>           <span class="o">|</span>   <span class="s1">&#39;$</span><span class="si">{name}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – The string variable represents the scalar wanted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.save_tf_checkpoint">
<span class="sig-name descname"><span class="pre">save_tf_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.save_tf_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.save_tf_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow checkpoint in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – tensorflow checkpoint path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.load_tf_checkpoint">
<span class="sig-name descname"><span class="pre">load_tf_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.load_tf_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.load_tf_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Load tensorflow checkpoint to this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – tensorflow checkpoint path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.save_keras_model">
<span class="sig-name descname"><span class="pre">save_keras_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.save_keras_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.save_keras_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow keras model in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – keras model save path.</p></li>
<li><p><strong>overwrite</strong> – Whether to silently overwrite any existing file at the target location.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.save_keras_weights">
<span class="sig-name descname"><span class="pre">save_keras_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.save_keras_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.save_keras_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow keras model weights in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – keras model weights save path.</p></li>
<li><p><strong>overwrite</strong> – Whether to silently overwrite any existing file at the target location.</p></li>
<li><p><strong>save_format</strong> – Either ‘tf’ or ‘h5’. A <cite>filepath</cite> ending in ‘.h5’ or
‘.keras’ will default to HDF5 if <cite>save_format</cite> is <cite>None</cite>. Otherwise
<cite>None</cite> defaults to ‘tf’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.load_keras_weights">
<span class="sig-name descname"><span class="pre">load_keras_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.load_keras_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.load_keras_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow keras model in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – keras model weights save path.</p></li>
<li><p><strong>by_name</strong> – Boolean, whether to load weights by name or by topological
order. Only topological loading is supported for weight files in
TensorFlow format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.load_orca_checkpoint">
<span class="sig-name descname"><span class="pre">load_orca_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.load_orca_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.load_orca_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Load Orca checkpoint. To load a specific checkpoint, please provide a <cite>version</cite>.
If <cite>version</cite> is None, then the latest checkpoint will be loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – checkpoint directory which contains model.* and
optimMethod-TFParkTraining.* files.</p></li>
<li><p><strong>version</strong> – checkpoint version, which is the suffix of model.* file,
i.e., for modle.4 file, the version is 4.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.from_graph">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bigdl'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.from_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.from_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Estimator for tesorflow graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> – input tensorflow tensors.</p></li>
<li><p><strong>outputs</strong> – output tensorflow tensors.</p></li>
<li><p><strong>labels</strong> – label tensorflow tensors.</p></li>
<li><p><strong>loss</strong> – The loss tensor of the TensorFlow model, should be a scalar</p></li>
<li><p><strong>optimizer</strong> – tensorflow optimization method.</p></li>
<li><p><strong>clip_norm</strong> – float &gt;= 0. Gradients will be clipped when their L2 norm exceeds
this value.</p></li>
<li><p><strong>clip_value</strong> – a float &gt;= 0 or a tuple of two floats.
If clip_value is a float, gradients will be clipped when their absolute value
exceeds this value.
If clip_value is a tuple of two floats, gradients will be clipped when their value
less than clip_value[0] or larger than clip_value[1].</p></li>
<li><p><strong>metrics</strong> – metric tensor.</p></li>
<li><p><strong>updates</strong> – Collection for the update ops. For example, when performing batch
normalization, the moving_mean and moving_variance should be updated and the user
should add tf.GraphKeys.UPDATE_OPS to updates. Default is None.</p></li>
<li><p><strong>sess</strong> – the current TensorFlow Session, if you want to used a pre-trained model,
you should use the Session to load the pre-trained variables and pass it to estimator</p></li>
<li><p><strong>model_dir</strong> – location to save model checkpoint and summaries.</p></li>
<li><p><strong>backend</strong> – backend for estimator. Now it only can be “bigdl”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an Estimator object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.from_keras">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_keras</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keras_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bigdl'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.from_keras"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.from_keras" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Estimator from a tensorflow.keras model. The model must be compiled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keras_model</strong> – the tensorflow.keras model, which must be compiled.</p></li>
<li><p><strong>metrics</strong> – user specified metric.</p></li>
<li><p><strong>model_dir</strong> – location to save model checkpoint and summaries.</p></li>
<li><p><strong>optimizer</strong> – an optional orca optimMethod that will override the optimizer in
keras_model.compile</p></li>
<li><p><strong>backend</strong> – backend for estimator. Now it only can be “bigdl”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an Estimator object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.Estimator.load_keras_model">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_keras_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#Estimator.load_keras_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.Estimator.load_keras_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Estimator by loading an existing keras model (with weights) from HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – String. The path to the pre-defined model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Orca TF Estimator.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.is_tf_data_dataset">
<span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf.estimator.</span></span><span class="sig-name descname"><span class="pre">is_tf_data_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#is_tf_data_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.is_tf_data_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.to_dataset">
<span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf.estimator.</span></span><span class="sig-name descname"><span class="pre">to_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_per_thread</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hard_code_batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sequential_order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DRAM'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#to_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.to_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.save_model_dir">
<span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf.estimator.</span></span><span class="sig-name descname"><span class="pre">save_model_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#save_model_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.save_model_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf.estimator.</span></span><span class="sig-name descname"><span class="pre">TensorFlowEstimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sess</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bigdl.orca.learn.tf.estimator.Estimator" title="bigdl.orca.learn.tf.estimator.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.tf.estimator.Estimator</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpoint_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this graph model with train data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – train data. It can be XShards, Spark DataFrame, tf.data.Dataset.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.
If data is tf.data.Dataset, each element is a tuple of input tensors.</p></li>
<li><p><strong>epochs</strong> – number of epochs to train.</p></li>
<li><p><strong>batch_size</strong> – total batch size for each iteration.</p></li>
<li><p><strong>feature_cols</strong> – feature column names if train data is Spark DataFrame or XShards
of Pandas DataFrame.</p></li>
<li><p><strong>label_cols</strong> – label column names if train data is Spark DataFrame or XShards of
Pandas DataFrame.</p></li>
<li><p><strong>validation_data</strong> – validation data. Validation data type should be the same
as train data.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
<li><p><strong>session_config</strong> – tensorflow session configuration for training.
Should be object of tf.ConfigProto</p></li>
<li><p><strong>feed_dict</strong> – a dictionary. The key is TensorFlow tensor, usually a
placeholder, the value of the dictionary is a tuple of two elements. The first one of
the tuple is the value to feed to the tensor in training phase and the second one
is the value to feed to the tensor in validation phase.</p></li>
<li><p><strong>checkpoint_trigger</strong> – when to trigger checkpoint during training.
Should be a bigdl.orca.learn.trigger, like EveryEpoch(), SeveralIteration(
num_iterations),etc.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – data to be predicted. It can be XShards, Spark DataFrame.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature}, where feature is a numpy array or a tuple of numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – batch size per thread</p></li>
<li><p><strong>feature_cols</strong> – list of feature column names if input data is Spark DataFrame
or XShards of Pandas DataFrame.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted result.
If input data is XShards or tf.data.Dataset, the predict result is a XShards, each
partition of the XShards is a dictionary of {‘prediction’: result}, where the
result is a numpy array or a list of numpy arrays.
If input data is Spark DataFrame, the predict result is a DataFrame which includes
original columns plus ‘prediction’ column. The ‘prediction’ column can be
FloatType, VectorUDT or Array of VectorUDT depending on model outputs shape.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – evaluation data. It can be XShards, Spark DataFrame, tf.data.Dataset.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.
If data is tf.data.Dataset, each element is a tuple of input tensors.</p></li>
<li><p><strong>batch_size</strong> – batch size per thread.</p></li>
<li><p><strong>feature_cols</strong> – feature_cols: feature column names if train data is Spark DataFrame
or XShards of Pandas DataFrame.</p></li>
<li><p><strong>label_cols</strong> – label column names if train data is Spark DataFrame or XShards
of Pandas DataFrame.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>evaluation result as a dictionary of {‘metric name’: metric value}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.save_tf_checkpoint">
<span class="sig-name descname"><span class="pre">save_tf_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.save_tf_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.save_tf_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow checkpoint in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – tensorflow checkpoint path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.load_tf_checkpoint">
<span class="sig-name descname"><span class="pre">load_tf_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.load_tf_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.load_tf_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Load tensorflow checkpoint to this estimator.
:param path: tensorflow checkpoint path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get_model is not supported in tensorflow graph estimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save model (tensorflow checkpoint) to model_path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – path to save the trained model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing model (tensorflow checkpoint) from model_path
:param model_path: Path to the existing tensorflow checkpoint.
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.clear_gradient_clipping">
<span class="sig-name descname"><span class="pre">clear_gradient_clipping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.clear_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.clear_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear gradient clipping is not supported in TensorFlowEstimator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.set_constant_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_constant_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.set_constant_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set constant gradient clipping is not supported in TensorFlowEstimator. Please pass the
clip_value to Estimator.from_graph.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.set_l2_norm_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_l2_norm_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.set_l2_norm_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.set_l2_norm_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set l2 norm gradient clipping is not supported in TensorFlowEstimator. Please pass the
clip_norm to Estimator.from_graph.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.TensorFlowEstimator.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#TensorFlowEstimator.shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.TensorFlowEstimator.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Close TensorFlow session and release resources.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf.estimator.</span></span><span class="sig-name descname"><span class="pre">KerasEstimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keras_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#bigdl.orca.learn.tf.estimator.Estimator" title="bigdl.orca.learn.tf.estimator.Estimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.tf.estimator.Estimator</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpoint_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this keras model with train data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – train data. It can be XShards, Spark DataFrame, tf.data.Dataset.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.
If data is tf.data.Dataset, each element is [feature tensor tuple, label tensor
tuple]</p></li>
<li><p><strong>epochs</strong> – number of epochs to train.</p></li>
<li><p><strong>batch_size</strong> – total batch size for each iteration.</p></li>
<li><p><strong>feature_cols</strong> – feature column names if train data is Spark DataFrame or XShards
of Pandas DataFrame.</p></li>
<li><p><strong>label_cols</strong> – label column names if train data is Spark DataFrame or XShards of
Pandas DataFrame.</p></li>
<li><p><strong>validation_data</strong> – validation data. Validation data type should be the same
as train data.</p></li>
<li><p><strong>session_config</strong> – tensorflow session configuration for training.
Should be object of tf.ConfigProto</p></li>
<li><p><strong>checkpoint_trigger</strong> – when to trigger checkpoint during training.
Should be a bigdl.orca.learn.trigger, like EveryEpoch(), SeveralIteration(
num_iterations),etc.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – data to be predicted.
It can be XShards, Spark DataFrame, or tf.data.Dataset.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature}, where feature is a numpy array or a tuple of numpy arrays.
If data is tf.data.Dataset, each element is feature tensor tuple</p></li>
<li><p><strong>batch_size</strong> – batch size per thread</p></li>
<li><p><strong>feature_cols</strong> – list of feature column names if input data is Spark DataFrame or
XShards of Pandas DataFrame.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted result.
If input data is XShards or tf.data.Dataset, the predict result is also a XShards,
and the schema for each result is: {‘prediction’: predicted numpy array or
list of predicted numpy arrays}.
If input data is Spark DataFrame, the predict result is a DataFrame which includes
original columns plus ‘prediction’ column. The ‘prediction’ column can be
FloatType, VectorUDT or Array of VectorUDT depending on model outputs shape.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_shard_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – evaluation data. It can be XShards, Spark DataFrame, tf.data.Dataset.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.
If data is tf.data.Dataset, each element is [feature tensor tuple, label tensor
tuple]</p></li>
<li><p><strong>batch_size</strong> – batch size per thread.</p></li>
<li><p><strong>feature_cols</strong> – feature_cols: feature column names if train data is Spark DataFrame or
XShards of Pandas DataFrame.</p></li>
<li><p><strong>label_cols</strong> – label column names if train data is Spark DataFrame or XShards
of Pandas DataFrame.</p></li>
<li><p><strong>auto_shard_files</strong> – whether to automatically detect if the dataset is file-based and
and apply sharding on files, otherwise sharding on records. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>evaluation result as a dictionary of {‘metric name’: metric value}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.save_keras_model">
<span class="sig-name descname"><span class="pre">save_keras_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.save_keras_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.save_keras_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow keras model in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – keras model save path.</p></li>
<li><p><strong>overwrite</strong> – Whether to silently overwrite any existing file at the target location.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the trained Keras model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The trained Keras model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save model to model_path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_path</strong> – path to save the trained model.</p></li>
<li><p><strong>overwrite</strong> – Whether to silently overwrite any existing file at the target location.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing keras model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – Path to the existing keras model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.clear_gradient_clipping">
<span class="sig-name descname"><span class="pre">clear_gradient_clipping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.clear_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.clear_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear gradient clipping parameters. In this case, gradient clipping will not be applied.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.set_constant_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_constant_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.set_constant_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set constant gradient clipping during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> – The minimum value to clip by.</p></li>
<li><p><strong>max</strong> – The maximum value to clip by.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.set_l2_norm_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_l2_norm_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.set_l2_norm_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.set_l2_norm_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip gradient to a maximum L2-Norm during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clip_norm</strong> – Gradient L2-Norm threshold.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.save_keras_weights">
<span class="sig-name descname"><span class="pre">save_keras_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.save_keras_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.save_keras_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow keras model weights in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – keras model weights save path.</p></li>
<li><p><strong>overwrite</strong> – Whether to silently overwrite any existing file at the target location.</p></li>
<li><p><strong>save_format</strong> – Either ‘tf’ or ‘h5’. A <cite>filepath</cite> ending in ‘.h5’ or
‘.keras’ will default to HDF5 if <cite>save_format</cite> is <cite>None</cite>. Otherwise
<cite>None</cite> defaults to ‘tf’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf.estimator.KerasEstimator.load_keras_weights">
<span class="sig-name descname"><span class="pre">load_keras_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf/estimator.html#KerasEstimator.load_keras_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf.estimator.KerasEstimator.load_keras_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Save tensorflow keras model in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – keras model weights save path.</p></li>
<li><p><strong>by_name</strong> – Boolean, whether to load weights by name or by topological
order. Only topological loading is supported for weight files in
TensorFlow format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bigdl.orca.learn.tf2.estimator">
<span id="orca-learn-tf2-estimator"></span><h2>orca.learn.tf2.estimator<a class="headerlink" href="#module-bigdl.orca.learn.tf2.estimator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.estimator.Estimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf2.estimator.</span></span><span class="sig-name descname"><span class="pre">Estimator</span></span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/estimator.html#Estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.estimator.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.estimator.Estimator.from_keras">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_keras</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_creator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers_per_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compile_args_creator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpu_binding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_to_driver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/estimator.html#Estimator.from_keras"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.estimator.Estimator.from_keras" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Estimator for tensorflow 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_creator</strong> – (dict -&gt; Model) This function takes in the <cite>config</cite>
dict and returns a compiled TF model.</p></li>
<li><p><strong>config</strong> – (dict) configuration passed to ‘model_creator’,
‘data_creator’. Also contains <cite>fit_config</cite>, which is passed
into <cite>model.fit(data, **fit_config)</cite> and
<cite>evaluate_config</cite> which is passed into <cite>model.evaluate</cite>.</p></li>
<li><p><strong>verbose</strong> – (bool) Prints output of one model if true.</p></li>
<li><p><strong>workers_per_node</strong> – (Int) worker number on each node. default: 1.</p></li>
<li><p><strong>compile_args_creator</strong> – (dict -&gt; dict of loss, optimizer and metrics) Only used when
the backend=”horovod”. This function takes in the <cite>config</cite> dict and returns a
dictionary like {“optimizer”: tf.keras.optimizers.SGD(lr), “loss”:
“mean_squared_error”, “metrics”: [“mean_squared_error”]}</p></li>
<li><p><strong>backend</strong> – (string) You can choose “horovod”, “ray” or “spark” as backend.
Default: <cite>ray</cite>.</p></li>
<li><p><strong>cpu_binding</strong> – (bool) Whether to binds threads to specific CPUs. Default: False</p></li>
<li><p><strong>log_to_driver</strong> – (bool) Whether display executor log on driver in cluster mode.
Default: True. This option is only for “spark” backend.</p></li>
<li><p><strong>model_dir</strong> – (str) The directory to save model states. It is required for “spark”</p></li>
</ul>
</dd>
</dl>
<p>backend. For cluster mode, it should be a share filesystem path which can be accessed
by executors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.estimator.Estimator.latest_checkpoint">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">latest_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/estimator.html#Estimator.latest_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.estimator.Estimator.latest_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.estimator.make_data_creator">
<span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf2.estimator.</span></span><span class="sig-name descname"><span class="pre">make_data_creator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/estimator.html#make_data_creator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.estimator.make_data_creator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.estimator.data_length">
<span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf2.estimator.</span></span><span class="sig-name descname"><span class="pre">data_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/estimator.html#data_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.estimator.data_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<section id="orca-learn-tf2-tf2-ray-estimator">
<h3>orca.learn.tf2.tf2_ray_estimator<a class="headerlink" href="#orca-learn-tf2-tf2-ray-estimator" title="Permalink to this headline">¶</a></h3>
<p>Orca TF2Estimator with backend of “horovod” or “ray”.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf2.ray_estimator.</span></span><span class="sig-name descname"><span class="pre">TensorFlow2Estimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_creator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compile_args_creator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers_per_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpu_binding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.ray_estimator.Estimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps_per_epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this tensorflow model with train data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – train data. It can be XShards, Spark DataFrame, Ray Dataset or
creator function which returns Iter or DataLoader.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.</p></li>
<li><p><strong>epochs</strong> – Number of epochs to train the model. Default: 1.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for training. Default: 32.</p></li>
<li><p><strong>verbose</strong> – Prints output of one model if true.</p></li>
<li><p><strong>callbacks</strong> – List of Keras compatible callbacks to apply during training.</p></li>
<li><p><strong>validation_data</strong> – validation data. Validation data type should be the same
as train data.</p></li>
<li><p><strong>class_weight</strong> – Optional dictionary mapping class indices (integers) to a weight
(float) value, used for weighting the loss function. This can be useful to tell
the model to “pay more attention” to samples from an under-represented class.</p></li>
<li><p><strong>steps_per_epoch</strong> – Total number of steps (batches of samples) before declaring one
epoch finished and starting the next epoch. If <cite>steps_pre_epoch</cite> is <cite>None</cite>, the
epoch will run until the input dataset is exhausted. When passing an infinitely
repeating dataset, you must specify the <cite>step_per_epoch</cite> argument.</p></li>
<li><p><strong>validation_steps</strong> – Total number of steps (batches of samples) to draw before stopping
when performing validation at the end of every epoch. Default: None.</p></li>
<li><p><strong>validation_freq</strong> – Only relevant if validation data is provided. Integer of
<cite>collections_abc.Container</cite> instance (e.g. list, tuple, etc.). If an integer,
specifies how many training epochs to run before a new validation run is performed,
e.g. <cite>validation_freq=2</cite> runs validation every 2 epochs. If a Container, specifies
the epochs on which to run validation, e.g. <cite>validation_freq=[1, 2, 10]</cite> runs
validation at the end of the 1st, 2nd, and 10th epochs.</p></li>
<li><p><strong>data_config</strong> – An optional dictionary that can be passed to data creator function.
If data is a Ray Dataset, specifies <cite>output_signature</cite> same as in
<cite>tf.data.Dataset.from_generator</cite> (If <cite>label_cols</cite> is specified, a 2-element
tuple of <cite>tf.TypeSpec</cite> objects corresponding to (features, label). Otherwise,
a single <cite>tf.TypeSpec</cite> corresponding to features tensor).</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data is a Spark
DataFrame, an XShards of Pandas DataFrame or a Ray Dataset. Default: None.</p></li>
<li><p><strong>label_cols</strong> – Label column name(s) of data. Only used when data is a Spark DataFrame,
an XShards of Pandas DataFrame or a Ray Dataset.
Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the model on the validation data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – evaluate data. It can be XShards, Spark DataFrame, Ray Dataset or
creator function which returns Iter or DataLoader.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for evaluation. Default: 32.</p></li>
<li><p><strong>num_steps</strong> – Total number of steps (batches of samples) before declaring the evaluation
round finished. Ignored with the default value of <cite>None</cite>.</p></li>
<li><p><strong>verbose</strong> – Prints output of one model if true.</p></li>
<li><p><strong>sample_weight</strong> – Optional Numpy array of weights for the training samples, used for
weighting the loss function. You can either pass a flat (1D) Numpy array with the
same length as the input samples (1:1 mapping between weights and samples), or in
the case of temporal data, you can pass a 2D array with shape (samples,
sequence_length), to apply a different weight to every timestep of every sample.</p></li>
<li><p><strong>callbacks</strong> – List of Keras compatible callbacks to apply during evaluation.</p></li>
<li><p><strong>data_config</strong> – An optional dictionary that can be passed to data creator function.
If data is a Ray Dataset, specifies <cite>output_signature</cite> same as in
<cite>tf.data.Dataset.from_generator</cite> (If <cite>label_cols</cite> is specified, a 2-element
tuple of <cite>tf.TypeSpec</cite> objects corresponding to (features, label). Otherwise,
a single <cite>tf.TypeSpec</cite> corresponding to features tensor).</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data is a Spark
DataFrame, an XShards of Pandas DataFrame or a Ray Dataset. Default: None.</p></li>
<li><p><strong>label_cols</strong> – Label column name(s) of data. Only used when data is a Spark DataFrame,
an XShards of Pandas DataFrame or a Ray Dataset.
Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>validation result</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.process_ray_dataset">
<span class="sig-name descname"><span class="pre">process_ray_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.process_ray_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.process_ray_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_partition_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – predict input data.  It can be XShards, Spark DataFrame or
orca.data.tf.data.Dataset. If data is XShards, each partition can be a Pandas
DataFrame or a dictionary of {‘x’: feature}, where feature is a numpy array or a
tuple of numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for inference. Default: None.</p></li>
<li><p><strong>verbose</strong> – Prints output of one model if true.</p></li>
<li><p><strong>steps</strong> – Total number of steps (batches of samples) before declaring the prediction
round finished. Ignored with the default value of None.</p></li>
<li><p><strong>callbacks</strong> – List of Keras compatible callbacks to apply during prediction.</p></li>
<li><p><strong>data_config</strong> – An optional dictionary that can be passed to data creator function.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data is a Spark
DataFrame or an XShards of Pandas DataFrame. Default: None.</p></li>
<li><p><strong>min_partition_num</strong> – Int. An optional param for repartition the input data when data
is an <strong>orca.data.tf.data.Dataset</strong>. If min_partition_num != None, the input data
will be repartitioned to max(min_partition_num, worker_num) partitions. This
parameter is usually used to improve the prediction performance when the model is a
customized Keras model, and the number of input partitions is significantly larger
than the number of workers. Note that if you set this parameter, the order of the
prediction results is not guaranteed to be the same as the input order, so you need
to add id information to the input to identify the corresponding prediction results.
Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the learned model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the learned model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model at the provided checkpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>checkpoint</strong> – (str) Path to the target checkpoint file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the model from the provided checkpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>checkpoint</strong> – (str) Path to target checkpoint file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/ray_estimator.html#TensorFlow2Estimator.shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.ray_estimator.TensorFlow2Estimator.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuts down workers and releases resources.</p>
</dd></dl>

</dd></dl>

</section>
<section id="orca-learn-tf2-tf2-spark-estimator">
<h3>orca.learn.tf2.tf2_spark_estimator<a class="headerlink" href="#orca-learn-tf2-tf2-spark-estimator" title="Permalink to this headline">¶</a></h3>
<p>Orca TF2Estimator with backend of “spark”.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.tf2.pyspark_estimator.</span></span><span class="sig-name descname"><span class="pre">SparkTFEstimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_creator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compile_args_creator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers_per_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_to_driver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps_per_epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this tensorflow model with train data.
:param data: train data. It can be XShards, Spark DataFrame or creator function which</p>
<blockquote>
<div><p>returns Iter or DataLoader.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>epochs</strong> – Number of epochs to train the model. Default: 1.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for training. Default: 32.</p></li>
<li><p><strong>verbose</strong> – Prints output of one model if true.</p></li>
<li><p><strong>callbacks</strong> – List of Keras compatible callbacks to apply during training.</p></li>
<li><p><strong>validation_data</strong> – validation data. Validation data type should be the same
as train data.</p></li>
<li><p><strong>class_weight</strong> – Optional dictionary mapping class indices (integers) to a weight
(float) value, used for weighting the loss function. This can be useful to tell
the model to “pay more attention” to samples from an under-represented class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the model on the validation data set.
:param data: evaluate data. It can be XShards, Spark DataFrame or creator function which</p>
<blockquote>
<div><p>returns Iter or DataLoader.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a tuple of
numpy arrays.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>validation_data</strong> – validation data. Validation data type should be the same
as train data.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for evaluation. Default: 32.</p></li>
<li><p><strong>verbose</strong> – Prints output of one model if true.</p></li>
<li><p><strong>callbacks</strong> – List of Keras compatible callbacks to apply during evaluation.</p></li>
<li><p><strong>class_weight</strong> – Optional dictionary mapping class indices (integers) to a weight
(float) value, used for weighting the loss function. This can be useful to tell
the model to “pay more attention” to samples from an under-represented class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>validation result</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the input data
:param data: predict input data.  It can be XShards or Spark DataFrame.</p>
<blockquote>
<div><p>If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature}, where feature is a numpy array or a tuple of numpy arrays.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> – Batch size used for inference. Default: None.</p></li>
<li><p><strong>verbose</strong> – Prints output of one model if true.</p></li>
<li><p><strong>steps</strong> – Total number of steps (batches of samples) before declaring the prediction
round finished. Ignored with the default value of None.</p></li>
<li><p><strong>callbacks</strong> – List of Keras compatible callbacks to apply during prediction.</p></li>
<li><p><strong>data_config</strong> – An optional dictionary that can be passed to data creator function.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data is a Spark
DataFrame or an XShards of Pandas DataFrame. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.save_weights">
<span class="sig-name descname"><span class="pre">save_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.save_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.save_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Save model weights at the provided path.
:param filepath: String or PathLike, path to the file to save the weights to.
When saving in TensorFlow format, this is the prefix used for checkpoint files
(multiple files are generated). Note that the ‘.h5’ suffix causes weights to be
saved in HDF5 format. It can be local, hdfs, or s3 filepath.
:param overwrite: Whether to silently overwrite any existing file at the target location,
or provide the user with a manual prompt.
:param save_format: Either ‘tf’ or ‘h5’.
A filepath ending in ‘.h5’ or ‘.keras’ will default to HDF5 if save_format is None.
Otherwise None defaults to ‘tf’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.load_weights">
<span class="sig-name descname"><span class="pre">load_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.load_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.load_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Load tensorflow keras model weights in this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – keras model weights save path.</p></li>
<li><p><strong>by_name</strong> – Boolean, whether to load weights by name or by topological
order. Only topological loading is supported for weight files in
TensorFlow format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_optimizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signatures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model to Tensorflow SavedModel or a single HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – String, PathLike, path to SavedModel or H5 file to save the
model. It can be local/hdfs/s3 filepath</p></li>
<li><p><strong>overwrite</strong> – Whether to silently overwrite any existing file at the
target location, or provide the user with a manual prompt.</p></li>
<li><p><strong>include_optimizer</strong> – If True, save optimizer’s state together.</p></li>
<li><p><strong>save_format</strong> – Either <cite>‘tf’</cite> or <cite>‘h5’</cite>, indicating whether to save the
model to Tensorflow SavedModel or HDF5. Defaults to ‘tf’ in TF 2.X,
and ‘h5’ in TF 1.X.</p></li>
<li><p><strong>signatures</strong> – Signatures to save with the SavedModel. Applicable to the
‘tf’ format only. Please see the <cite>signatures</cite> argument in
<cite>tf.saved_model.save</cite> for details.</p></li>
<li><p><strong>options</strong> – (only applies to SavedModel format)
<cite>tf.saved_model.SaveOptions</cite> object that specifies options for
saving to SavedModel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_objects</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a model saved via <a href="#id1"><span class="problematic" id="id2">`</span></a>estimator.save()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – (str) Path of saved model.</p></li>
<li><p><strong>custom_objects</strong> – Optional dictionary mapping names
(strings) to custom classes or functions to be
considered during deserialization.</p></li>
<li><p><strong>compile</strong> – Boolean, whether to compile the model after loading.</p></li>
<li><p><strong>options</strong> – Optional <cite>tf.saved_model.LoadOptions</cite> object that specifies</p></li>
</ul>
</dd>
</dl>
<p>options for loading from SavedModel.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/tf2/pyspark_estimator.html#SparkTFEstimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.tf2.pyspark_estimator.SparkTFEstimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the learned model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the learned model.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-bigdl.orca.learn.pytorch.estimator">
<span id="orca-learn-pytorch-estimator"></span><h2>orca.learn.pytorch.estimator<a class="headerlink" href="#module-bigdl.orca.learn.pytorch.estimator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.estimator.Estimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.pytorch.estimator.</span></span><span class="sig-name descname"><span class="pre">Estimator</span></span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/estimator.html#Estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.estimator.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.estimator.Estimator.from_torch">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_torch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler_creator=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">training_operator_cls=&lt;class</span> <span class="pre">'bigdl.orca.learn.pytorch.training_operator.TrainingOperator'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialization_hook=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler_step_freq='batch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tqdm=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers_per_node=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend='bigdl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_stats=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level=20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_to_driver=True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/estimator.html#Estimator.from_torch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.estimator.Estimator.from_torch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Estimator for torch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – PyTorch model or model creator function if backend=”bigdl”, PyTorch
model creator function if backend=”horovod” or “ray”</p></li>
<li><p><strong>optimizer</strong> – Orca/PyTorch optimizer or optimizer creator function if backend=”bigdl”
, PyTorch optimizer creator function if backend=”horovod” or “ray”</p></li>
<li><p><strong>loss</strong> – PyTorch loss or loss creator function if backend=”bigdl”, PyTorch loss creator
function if backend=”horovod” or “ray”</p></li>
<li><p><strong>metrics</strong> – Orca validation methods for evaluate.</p></li>
<li><p><strong>scheduler_creator</strong> – parameter for <cite>horovod</cite> and <cite>ray</cite> backends. a
learning rate scheduler wrapping the optimizer. You will need to set
<code class="docutils literal notranslate"><span class="pre">scheduler_step_freq=&quot;epoch&quot;</span></code> for the scheduler to be incremented correctly.</p></li>
<li><p><strong>config</strong> – parameter config dict to create model, optimizer loss and data.</p></li>
<li><p><strong>scheduler_step_freq</strong> – parameter for <cite>horovod</cite> and <cite>ray</cite> backends.
“batch”, “epoch” or None. This will determine when <code class="docutils literal notranslate"><span class="pre">scheduler.step</span></code> is called. If
“batch”, <code class="docutils literal notranslate"><span class="pre">step</span></code> will be called after every optimizer step. If “epoch”, <code class="docutils literal notranslate"><span class="pre">step</span></code>
will be called after one pass of the DataLoader. If a scheduler is passed in, this
value is expected to not be None.</p></li>
<li><p><strong>use_tqdm</strong> – parameter for <cite>horovod</cite> and <cite>ray</cite> backends. You can monitor
training progress if use_tqdm=True.</p></li>
<li><p><strong>workers_per_node</strong> – parameter for <cite>horovod</cite> and <cite>ray</cite> backends. worker
number on each node. default: 1.</p></li>
<li><p><strong>model_dir</strong> – parameter for <cite>bigdl</cite> and <cite>spark</cite> backend. The path to save model. During
the training, if checkpoint_trigger is defined and triggered, the model will be
saved to model_dir.</p></li>
<li><p><strong>backend</strong> – You can choose “horovod”,  “ray”, “bigdl” or “spark” as
backend. Default: <cite>bigdl</cite>.</p></li>
<li><p><strong>sync_stats</strong> – Whether to sync metrics across all distributed workers after each epoch.
If set to False, only rank 0’s metrics are printed. This param only works horovod,
ray and pyspark backend. For spark backend, the metrics printed are
are always synced. This param only affects the printed metrics, the returned metrics
are always averaged across workers. Default: True</p></li>
<li><p><strong>log_level</strong> – Setting the log_level of each distributed worker. This param only works
horovod, ray and pyspark backend.</p></li>
<li><p><strong>log_to_driver</strong> – (bool) Whether display executor log on driver in cluster mode.
Default: True. This option is only for “spark” backend.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an Estimator object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.estimator.Estimator.latest_checkpoint">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">latest_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/estimator.html#Estimator.latest_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.estimator.Estimator.latest_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<section id="orca-learn-pytorch-pytorch-ray-estimator">
<h3>orca.learn.pytorch.pytorch_ray_estimator<a class="headerlink" href="#orca-learn-pytorch-pytorch-ray-estimator" title="Permalink to this headline">¶</a></h3>
<p>Orca Pytorch Estimator with backend of “horovod” or “ray”.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.pytorch.pytorch_ray_estimator.</span></span><span class="sig-name descname"><span class="pre">PyTorchRayEstimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_creator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer_creator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss_creator=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler_creator=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">training_operator_cls=&lt;class</span> <span class="pre">'bigdl.orca.learn.pytorch.training_operator.TrainingOperator'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialization_hook=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler_step_freq='batch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tqdm=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend='ray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers_per_node=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_stats=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level=20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.ray_estimator.Estimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains a PyTorch model given training data for several epochs.
Calls <cite>TrainingOperator.train_epoch()</cite> on N parallel workers simultaneously
underneath the hood.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – An instance of SparkXShards, a Ray Dataset, a Spark DataFrame or a function
that takes config and batch_size as argument and returns a PyTorch DataLoader for
training.</p></li>
<li><p><strong>epochs</strong> – The number of epochs to train the model. Default is 1.</p></li>
<li><p><strong>batch_size</strong> – The number of samples per batch for each worker. Default is 32.
The total batch size would be workers_per_node*num_nodes.
If your training data is a function, you can set batch_size to be the input
batch_size of the function for the PyTorch DataLoader.</p></li>
<li><p><strong>profile</strong> – Boolean. Whether to return time stats for the training procedure.
Default is False.</p></li>
<li><p><strong>reduce_results</strong> – Boolean. Whether to average all metrics across all workers into
one dict. If a metric is a non-numerical value (or nested dictionaries), one value
will be randomly selected among the workers. If False, returns a list of dicts for
all workers.
Default is True.</p></li>
<li><p><strong>info</strong> – An optional dictionary that can be passed to the TrainingOperator for
train_epoch and train_batch.</p></li>
<li><p><strong>feature_cols</strong> – feature column names if data is Spark DataFrame or Ray Dataset.</p></li>
<li><p><strong>label_cols</strong> – label column names if data is Spark DataFrame or Ray Dataset.</p></li>
<li><p><strong>validation_data</strong> – validation data. Validation data type should be the same
as train data.</p></li>
<li><p><strong>callbacks</strong> – A list for all callbacks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of dictionary of metrics for every training epoch. If reduce_results is
False, this will return a nested list of metric dictionaries whose length will be
equal to the total number of workers.
You can also provide custom metrics by passing in a custom training_operator_cls
when creating the Estimator.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Using this PyTorch model to make predictions on the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – An instance of SparkXShards, a Ray Dataset or a Spark DataFrame</p></li>
<li><p><strong>batch_size</strong> – The number of samples per batch for each worker. Default is 32.</p></li>
<li><p><strong>profile</strong> – Boolean. Whether to return time stats for the training procedure.
Default is False.</p></li>
<li><p><strong>feature_cols</strong> – feature column names if data is a Spark DataFrame or Ray Dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A SparkXShards or a list that contains the predictions with key “prediction”
in each shard</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a PyTorch model given validation data.
Note that only accuracy for classification with zero-based label is supported by
default. You can override validate_batch in TrainingOperator for other metrics.
Calls <cite>TrainingOperator.validate()</cite> on N parallel workers simultaneously
underneath the hood.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – An instance of SparkXShards, a Spark DataFrame, a Ray Dataset or a function
that takes config and batch_size as argument and returns a PyTorch DataLoader for
validation.</p></li>
<li><p><strong>batch_size</strong> – The number of samples per batch for each worker. Default is 32.
The total batch size would be workers_per_node*num_nodes.
If your validation data is a function, you can set batch_size to be the input
batch_size of the function for the PyTorch DataLoader.</p></li>
<li><p><strong>num_steps</strong> – The number of batches to compute the validation results on. This
corresponds to the number of times <cite>TrainingOperator.validate_batch</cite> is called.</p></li>
<li><p><strong>profile</strong> – Boolean. Whether to return time stats for the training procedure.
Default is False.</p></li>
<li><p><strong>info</strong> – An optional dictionary that can be passed to the TrainingOperator
for validate.</p></li>
<li><p><strong>feature_cols</strong> – feature column names if train data is Spark DataFrame or Ray Dataset.</p></li>
<li><p><strong>label_cols</strong> – label column names if train data is Spark DataFrame or Ray Dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of metrics for the given data, including validation accuracy and loss.
You can also provide custom metrics by passing in a custom training_operator_cls
when creating the Estimator.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the learned PyTorch model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The learned PyTorch model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the Estimator state (including model and optimizer) to the provided model_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – (str) Path to save the model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Estimator state (including model and optimizer) from the provided model_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – (str) Path to the existing model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.save_checkpoint">
<span class="sig-name descname"><span class="pre">save_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.save_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.save_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually saves the Estimator state (including model and optimizer) to the provided
model_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – (str) Path to save the model. Both local and remote path are supported.
e.g. “/tmp/estimator.ckpt” or “hdfs:///tmp/estimator.ckpt”</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.load_checkpoint">
<span class="sig-name descname"><span class="pre">load_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.load_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.load_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Estimator state (including model and optimizer) from the provided model_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – (str) Path to the existing model. Both local and remote path are
supported. e.g. “/tmp/estimator.ckpt” or “hdfs:///tmp/estimator.ckpt”</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuts down workers and releases resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.get_state_dict">
<span class="sig-name descname"><span class="pre">get_state_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.get_state_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.get_state_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.load_state_dict">
<span class="sig-name descname"><span class="pre">load_state_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_ray_estimator.html#PyTorchRayEstimator.load_state_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_ray_estimator.PyTorchRayEstimator.load_state_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="orca-learn-pytorch-pytorch-spark-estimator">
<h3>orca.learn.pytorch.pytorch_spark_estimator<a class="headerlink" href="#orca-learn-pytorch-pytorch-spark-estimator" title="Permalink to this headline">¶</a></h3>
<p>Orca Pytorch Estimator with backend of “bigdl”.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.pytorch.pytorch_spark_estimator.</span></span><span class="sig-name descname"><span class="pre">PyTorchSparkEstimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bigdl_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.spark_estimator.Estimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpoint_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train this torch model with train data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – train data. It can be a XShards, Spark Dataframe, PyTorch DataLoader and
PyTorch DataLoader creator function that takes config and batch_size as argument and
returns a PyTorch DataLoader for training.
If data is an XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or
a list of numpy arrays.</p></li>
<li><p><strong>epochs</strong> – Number of epochs to train the model. Default: 1.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for training. Only used when data is an XShards.
Default: 32.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data
is a Spark DataFrame or an XShards of Pandas DataFrame. Default: None.</p></li>
<li><p><strong>label_cols</strong> – Label column name(s) of data. Only used when data is
a Spark DataFrame or an XShards of Pandas DataFrame. Default: None.</p></li>
<li><p><strong>validation_data</strong> – Validation data. XShards, PyTorch DataLoader and PyTorch DataLoader
creator function are supported.
If data is XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a list of
numpy arrays.</p></li>
<li><p><strong>checkpoint_trigger</strong> – Orca Trigger to set a checkpoint.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The trained estimator object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict input data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – data to be predicted. It can be an XShards or a Spark Dataframe.
If it is an XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature}, where feature is a numpy array or a list of numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – batch size used for inference.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data
is a Spark DataFrame or an XShards of Pandas DataFrame. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted result. The predict result is a XShards, each partition of the XShards
is a dictionary of {‘prediction’: result}, where result is a numpy array or a list
of numpy arrays.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – data: evaluation data. It can be an XShards, Spark Dataframe,
PyTorch DataLoader and PyTorch DataLoader creator function.
If data is an XShards, each partition can be a Pandas DataFrame or a dictionary of
{‘x’: feature, ‘y’: label}, where feature(label) is a numpy array or a list of
numpy arrays.</p></li>
<li><p><strong>batch_size</strong> – Batch size used for evaluation. Only used when data is a SparkXShard.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data
is a Spark DataFrame or an XShards of Pandas DataFrame. Default: None.</p></li>
<li><p><strong>label_cols</strong> – Label column name(s) of data. Only used when data is
a Spark DataFrame or an XShards of Pandas DataFrame. Default: None.</p></li>
<li><p><strong>validation_metrics</strong> – Orca validation metrics to be computed on validation_data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>validation results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the trained PyTorch model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The trained PyTorch model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the Estimator state (including model and optimizer) to the provided model_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – path to save the model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>model_path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the Estimator state (model and possibly with optimizer) from provided model_path.
The model file should be generated by the save method of this estimator, or by
<code class="docutils literal notranslate"><span class="pre">torch.save(state_dict,</span> <span class="pre">model_path)</span></code>, where <cite>state_dict</cite> can be obtained by
the <code class="docutils literal notranslate"><span class="pre">state_dict()</span></code> method of a pytorch model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – path to the saved model.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.load_orca_checkpoint">
<span class="sig-name descname"><span class="pre">load_orca_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.load_orca_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.load_orca_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing checkpoint. To load a specific checkpoint, please provide both <cite>version</cite> and
<cite>perfix</cite>. If <cite>version</cite> is None, then the latest checkpoint will be loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Path to the existing checkpoint (or directory containing Orca checkpoint
files).</p></li>
<li><p><strong>version</strong> – checkpoint version, which is the suffix of model.* file, i.e., for
modle.4 file, the version is 4. If it is None, then load the latest checkpoint.</p></li>
<li><p><strong>prefix</strong> – optimMethod prefix, for example ‘optimMethod-TorchModelf53bddcc’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.get_train_summary">
<span class="sig-name descname"><span class="pre">get_train_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.get_train_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.get_train_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model train summary.</p>
<p>This method will return a list of summary data of
[iteration_number, scalar_value, timestamp].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – The string variable represents the scalar wanted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.get_validation_summary">
<span class="sig-name descname"><span class="pre">get_validation_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.get_validation_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.get_validation_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the scalar from model validation summary.</p>
<p>This method will return a list of summary data of
[iteration_number, scalar_value, timestamp].
Note that the metric and tag may not be consistent.
Please look up following form to pass tag parameter.
Left side is your metric during compile.
Right side is the tag you should pass.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Accuracy&#39;</span>                  <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;BinaryAccuracy&#39;</span>            <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;CategoricalAccuracy&#39;</span>       <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;SparseCategoricalAccuracy&#39;</span> <span class="o">|</span>   <span class="s1">&#39;Top1Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;AUC&#39;</span>                       <span class="o">|</span>   <span class="s1">&#39;AucScore&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;HitRatio&#39;</span>                  <span class="o">|</span>   <span class="s1">&#39;HitRate@k&#39;</span> <span class="p">(</span><span class="n">k</span> <span class="ow">is</span> <span class="n">Top</span><span class="o">-</span><span class="n">k</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Loss&#39;</span>                      <span class="o">|</span>   <span class="s1">&#39;Loss&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MAE&#39;</span>                       <span class="o">|</span>   <span class="s1">&#39;MAE&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;NDCG&#39;</span>                      <span class="o">|</span>   <span class="s1">&#39;NDCG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;TFValidationMethod&#39;</span>        <span class="o">|</span>   <span class="s1">&#39;${name + &quot; &quot; + valMethod.toString()}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Top5Accuracy&#39;</span>              <span class="o">|</span>   <span class="s1">&#39;Top5Accuracy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;TreeNNAccuracy&#39;</span>            <span class="o">|</span>   <span class="s1">&#39;TreeNNAccuracy()&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MeanAveragePrecision&#39;</span>      <span class="o">|</span>   <span class="s1">&#39;MAP@k&#39;</span> <span class="p">(</span><span class="n">k</span> <span class="ow">is</span> <span class="n">Top</span><span class="o">-</span><span class="n">k</span><span class="p">)</span> <span class="p">(</span><span class="n">BigDL</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;MeanAveragePrecision&#39;</span>      <span class="o">|</span>   <span class="s1">&#39;PascalMeanAveragePrecision&#39;</span> <span class="p">(</span><span class="n">Zoo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;StatelessMetric&#39;</span>           <span class="o">|</span>   <span class="s1">&#39;$</span><span class="si">{name}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – The string variable represents the scalar wanted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.clear_gradient_clipping">
<span class="sig-name descname"><span class="pre">clear_gradient_clipping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.clear_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.clear_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear gradient clipping parameters. In this case, gradient clipping will not be applied.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.set_constant_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_constant_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.set_constant_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set constant gradient clipping during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> – The minimum value to clip by.</p></li>
<li><p><strong>max</strong> – The maximum value to clip by.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.set_l2_norm_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_l2_norm_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/pytorch/pytorch_spark_estimator.html#PyTorchSparkEstimator.set_l2_norm_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.pytorch.pytorch_spark_estimator.PyTorchSparkEstimator.set_l2_norm_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip gradient to a maximum L2-Norm during the training process.
In order to take effect, it needs to be called before fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clip_norm</strong> – Gradient L2-Norm threshold.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-bigdl.orca.learn.openvino.estimator">
<span id="orca-learn-openvino-estimator"></span><h2>orca.learn.openvino.estimator<a class="headerlink" href="#module-bigdl.orca.learn.openvino.estimator" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.Estimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.openvino.estimator.</span></span><span class="sig-name descname"><span class="pre">Estimator</span></span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#Estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.Estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.Estimator.from_openvino">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_openvino</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#Estimator.from_openvino"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.Estimator.from_openvino" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an openVINO Estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – String. The file path to the OpenVINO IR xml file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bigdl.orca.learn.openvino.estimator.</span></span><span class="sig-name descname"><span class="pre">OpenvinoEstimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bigdl.orca.learn.spark_estimator.Estimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkpoint_trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict input data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_size</strong> – Int. Set batch Size, default is 4.</p></li>
<li><p><strong>data</strong> – data to be predicted. XShards, Spark DataFrame, numpy array and list of numpy
arrays are supported. If data is XShards, each partition is a dictionary of  {‘x’:
feature}, where feature(label) is a numpy array or a list of numpy arrays.</p></li>
<li><p><strong>feature_cols</strong> – Feature column name(s) of data. Only used when data is a Spark
DataFrame. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted result.
If the input data is XShards, the predict result is a XShards, each partition
of the XShards is a dictionary of {‘prediction’: result}, where the result is a
numpy array or a list of numpy arrays.
If the input data is numpy arrays or list of numpy arrays, the predict result is
a numpy array or a list of numpy arrays.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get_model is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an openVINO model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_path</strong> – String. The file path to the OpenVINO IR xml file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.set_tensorboard">
<span class="sig-name descname"><span class="pre">set_tensorboard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.set_tensorboard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.set_tensorboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Set_tensorboard is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.clear_gradient_clipping">
<span class="sig-name descname"><span class="pre">clear_gradient_clipping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.clear_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.clear_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear_gradient_clipping is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.set_constant_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_constant_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.set_constant_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.set_constant_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set_constant_gradient_clipping is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.set_l2_norm_gradient_clipping">
<span class="sig-name descname"><span class="pre">set_l2_norm_gradient_clipping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clip_norm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.set_l2_norm_gradient_clipping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.set_l2_norm_gradient_clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Set_l2_norm_gradient_clipping is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.get_train_summary">
<span class="sig-name descname"><span class="pre">get_train_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.get_train_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.get_train_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get_train_summary is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.get_validation_summary">
<span class="sig-name descname"><span class="pre">get_validation_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.get_validation_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.get_validation_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Get_validation_summary is not supported in OpenVINOEstimator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.load_orca_checkpoint">
<span class="sig-name descname"><span class="pre">load_orca_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/bigdl/orca/learn/openvino/estimator.html#OpenvinoEstimator.load_orca_checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bigdl.orca.learn.openvino.estimator.OpenvinoEstimator.load_orca_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Load_orca_checkpoint is not supported in OpenVINOEstimator</p>
</dd></dl>

</dd></dl>

</section>
<section id="automl">
<h2>AutoML<a class="headerlink" href="#automl" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="automl.html">orca.automl.auto_estimator</a></li>
<li class="toctree-l1"><a class="reference internal" href="automl.html#orca-automl-hp">orca.automl.hp</a></li>
<li class="toctree-l1"><a class="reference internal" href="automl.html#orca-automl-metrics">orca.automl.metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="automl.html#orca-automl-auto-xgb">orca.automl.auto_xgb</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../Orca/QuickStart/orca-autoxgboost-quickstart.html" class="btn btn-neutral float-left" title="Use AutoXGBoost to auto-tune XGBoost parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="automl.html" class="btn btn-neutral float-right" title="orca.automl.auto_estimator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, BigDL Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>